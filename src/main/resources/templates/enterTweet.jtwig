<!DOCTYPE html>
<html>
<head>
    <title>Tweet Message</title>
</head>
<body>
<h2>Enter Tweet</h2>
<hr>
<div>
    <div>
        <label for="a">Tweet</label>
        <input type="text" id="a" size="140">

        <br>
        <p>Result:&nbsp;<span id="result"></span></p>
    </div>
    <button id="Tweet_button">Tweet</button>
</div>

<script>
// AJAX posting x-www-form-urlencoded
var button = document.getElementById('Tweet_button');
button.onclick = function () {
    var xhr = new XMLHttpRequest();
    xhr.open('POST', '/insertTweet');
    xhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');
    xhr.onload = function() {
        if (xhr.status === 200) {
            var result = document.getElementById('result');
            result.innerHTML = xhr.responseText;
        } else if (xhr.status !== 200) {
            alert('Request failed.  Returned status of ' + xhr.status);
        }
    };
    var tweetMessage = document.getElementById('a').value;
    var body = 'tweetMessage=' + encodeURIComponent(tweetMessage);
    console.log(body);
    xhr.send(body);
};
</script>
</body>
</html>
