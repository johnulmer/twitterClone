<!DOCTYPE html>
<html>
<head>
    <title>Reply to Tweet</title>
</head>
<body>
<h2>Reply Tweet</h2>
<hr>
<div>
    <div>
        <label for="replyInput">Reply</label>
        <input type="text" id="replyInput" size="140">

        <br>
        <p>Result:&nbsp;<span id="result"></span></p>
    </div>
    <button id="Reply_button">Tweet</button>
</div>

<script>
// AJAX posting x-www-form-urlencoded
var button = document.getElementById('Reply_button');
button.onclick = function () {
    var xhr = new XMLHttpRequest();
    xhr.open('POST', '/insertReply');
    xhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');
    xhr.onload = function() {
        if (xhr.status === 200) {
            var result = document.getElementById('result');
            result.innerHTML = xhr.responseText;
        } else if (xhr.status !== 200) {
            alert('Request failed.  Returned status of ' + xhr.status);
        }
    };
    var replyMessage = document.getElementById('replyInput').value;
    var body = 'replyMessage=' + encodeURIComponent(replyMessage);
    console.log(body);
    xhr.send(body);
};
</script>
</body>
</html>
